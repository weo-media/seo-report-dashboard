<style type="text/css">
  /* **** tally boxes **** */
  button.tally-box {

    text-align: left;
    align-items: inherit;
    border: none;
    box-shadow: 0px 0px 12px rgba(0, 0, 0, 0.25);
    flex: 0 1 400px;
    min-width: 280px;
    border-radius: 8px;
    color: #fff;
    font-family: "Poppins";
    margin: 10px auto;
    padding: 0;
    display: flex;
    flex-flow: row;
    overflow: hidden;
  }
  .tally-box:hover,
  .tally-box:focus {
    text-decoration: none;
    color: #fff;
    box-shadow: 0px 0px 24px rgba(0, 0, 0, 0.25);
  }
  .tally-box:active {
    border: none;
  }
  .tally-main {
    background: linear-gradient(90deg, #1d6bb0 0%, #4092d6 72.99%);
    padding: 4px 14px;
    flex: 1 0 80%;
    display: flex;
    flex-flow: wrap;
    align-items: center;
    justify-items: center;
  }
  [data-movement="up"].tally-main {
    background: linear-gradient(90deg, #70b44e 0%, #89db60 73.27%);
  }
  [data-movement="down"].tally-main {
    background: linear-gradient(90deg, #d94f31 0%, #f07154 73.27%);
  }
  .tally-type {
    font-size: 1.4em;
    line-height: 1.2em;
    flex: 1 0 100%;
  }
  .tally-icon {
    padding: 10px 0;
    margin-right: auto;
    flex: 0 1 50%;
  }
  .tally-count {
    flex: 0 1 50%;
    text-align: center;
    font-size: 4em;
    line-height: 1.1em;
    font-weight: 700;
  }
  .tally-count:after {
    line-height: 1em;
    font-size: 0.2em;
    font-weight: 100;
    content: "recieved";
    display: inline-block;
    padding: 0 8px;
  }
  .tally-sub {
    background: rgba(255, 255, 255, 0.6);
    padding: 20px;
    display: flex;
    flex-flow: column;
    min-height: 140px;
    flex: 0 1 20%;
  }
  .tally-sub svg {
    width: 100%;
  }
  .tally-movement {
    display: none;
    margin-bottom: auto;
  }
  .tally-movement svg {
    max-height: 80px;
    max-width: 50px;
    padding-bottom: 10px;
  }
  .tally-info {
    margin-top: auto;
  }
  svg.info-tip {
    color: #777777;
  }
  .modal-backdrop {
    background: rgba(0, 0, 0, 0.3);
  }
  /* Base styles for the element that has a tooltip */
  [data-tooltip],
  .tooltip {
    position: relative;
    cursor: pointer;
  }

  /* Base styles for the entire tooltip */
  [data-tooltip]:before,
  [data-tooltip]:after,
  .tooltip:before,
  .tooltip:after {
    position: absolute;
    visibility: hidden;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=0);
    opacity: 0;
    -webkit-transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out,
      -webkit-transform 0.2s cubic-bezier(0.71, 1.7, 0.77, 1.24);
    -moz-transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out,
      -moz-transform 0.2s cubic-bezier(0.71, 1.7, 0.77, 1.24);
    transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out,
      transform 0.2s cubic-bezier(0.71, 1.7, 0.77, 1.24);
    -webkit-transform: translate3d(0, 0, 0);
    -moz-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    pointer-events: none;
  }

  /* Show the entire tooltip on hover and focus */
  [data-tooltip]:hover:before,
  [data-tooltip]:hover:after,
  [data-tooltip]:focus:before,
  [data-tooltip]:focus:after,
  .tooltip:hover:before,
  .tooltip:hover:after,
  .tooltip:focus:before,
  .tooltip:focus:after {
    visibility: visible;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
    filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=100);
    opacity: 1;
  }

  /* Base styles for the tooltip's directional arrow */
  .tooltip:before,
  [data-tooltip]:before {
    z-index: 1001;
    border: 6px solid transparent;
    background: transparent;
    content: "";
  }

  /* Base styles for the tooltip's content area */
  .tooltip:after,
  [data-tooltip]:after {
    z-index: 1000;
    padding: 8px;
    width: 160px;
    background-color: #000;
    background-color: hsla(0, 0%, 20%, 0.9);
    color: #fff;
    content: attr(data-tooltip);
    font-size: 14px;
    line-height: 1.2;
  }

  /* tooltip orientation */

  /* Top (default) */
  [data-tooltip]:before,
  [data-tooltip]:after,
  .tooltip:before,
  .tooltip:after,
  .tooltip-top:before,
  .tooltip-top:after {
    bottom: 100%;
    left: 50%;
  }

  [data-tooltip]:before,
  .tooltip:before,
  .tooltip-top:before {
    margin-left: -6px;
    margin-bottom: -12px;
    border-top-color: #000;
    border-top-color: hsla(0, 0%, 20%, 0.9);
  }

  /* Horizontally align top/bottom tooltips */
  [data-tooltip]:after,
  .tooltip:after,
  .tooltip-top:after {
    margin-left: -80px;
  }

  [data-tooltip]:hover:before,
  [data-tooltip]:hover:after,
  [data-tooltip]:focus:before,
  [data-tooltip]:focus:after,
  .tooltip:hover:before,
  .tooltip:hover:after,
  .tooltip:focus:before,
  .tooltip:focus:after,
  .tooltip-top:hover:before,
  .tooltip-top:hover:after,
  .tooltip-top:focus:before,
  .tooltip-top:focus:after {
    -webkit-transform: translateY(-12px);
    -moz-transform: translateY(-12px);
    transform: translateY(-12px);
  }

  /* Left */
  .tooltip-left:before,
  .tooltip-left:after {
    right: 100%;
    bottom: 50%;
    left: auto;
  }

  .tooltip-left:before {
    margin-left: 0;
    margin-right: -12px;
    margin-bottom: 0;
    border-top-color: transparent;
    border-left-color: #000;
    border-left-color: hsla(0, 0%, 20%, 0.9);
  }

  .tooltip-left:hover:before,
  .tooltip-left:hover:after,
  .tooltip-left:focus:before,
  .tooltip-left:focus:after {
    -webkit-transform: translateX(-12px);
    -moz-transform: translateX(-12px);
    transform: translateX(-12px);
  }

  /* Bottom */
  .tooltip-bottom:before,
  .tooltip-bottom:after {
    top: 100%;
    bottom: auto;
    left: 50%;
  }

  .tooltip-bottom:before {
    margin-top: -12px;
    margin-bottom: 0;
    border-top-color: transparent;
    border-bottom-color: #000;
    border-bottom-color: hsla(0, 0%, 20%, 0.9);
  }

  .tooltip-bottom:hover:before,
  .tooltip-bottom:hover:after,
  .tooltip-bottom:focus:before,
  .tooltip-bottom:focus:after {
    -webkit-transform: translateY(12px);
    -moz-transform: translateY(12px);
    transform: translateY(12px);
  }

  /* Right */
  .tooltip-right:before,
  .tooltip-right:after {
    bottom: 50%;
    left: 100%;
  }

  .tooltip-right:before {
    margin-bottom: 0;
    margin-left: -12px;
    border-top-color: transparent;
    border-right-color: #000;
    border-right-color: hsla(0, 0%, 20%, 0.9);
  }

  .tooltip-right:hover:before,
  .tooltip-right:hover:after,
  .tooltip-right:focus:before,
  .tooltip-right:focus:after {
    -webkit-transform: translateX(12px);
    -moz-transform: translateX(12px);
    transform: translateX(12px);
  }

  /* Move directional arrows down a bit for left/right tooltips */
  .tooltip-left:before,
  .tooltip-right:before {
    top: 3px;
  }

  /* Vertically center tooltip content for left/right tooltips */
  .tooltip-left:after,
  .tooltip-right:after {
    margin-left: 0;
    margin-bottom: -16px;
  }
</style>
<button id="tally-1" data-toggle="modal" data-target="#moreInfoModal" data-more-info class="tally-box"><div class="tally-main" data-movement> <div class="tally-type"></div> <div class="tally-icon">  </div> <div class="tally-count" ></div> </div> <div class="tally-sub"> <div class="tally-movement"> </div> <div class="tally-info tooltip-left" data-tooltip> <svg class="info-tip" width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg"> <g> <path id="info-tip-i" d="M8.69921 5.8589C8.69921 5.45609 8.83504 5.11886 9.1067 4.84719C9.37837 4.57553 9.71092 4.4397 10.1044 4.4397C10.4978 4.4397 10.8304 4.57553 11.102 4.84719C11.3737 5.11886 11.5095 5.45609 11.5095 5.8589C11.5095 6.25234 11.3737 6.58489 11.102 6.85655C10.8304 7.12822 10.4978 7.26405 10.1044 7.26405C9.71092 7.26405 9.37837 7.12822 9.1067 6.85655C8.83504 6.58489 8.69921 6.25234 8.69921 5.8589ZM11.3128 7.7418V15.5825H8.90998V7.7418H11.3128Z" fill="currentColor"></path> <path id="info-tip-Ellipse-1" d="M18.6787 10.423C18.6787 14.9694 14.8726 18.718 10.0989 18.718C5.32514 18.718 1.51909 14.9694 1.51909 10.423C1.51909 5.87651 5.32514 2.12797 10.0989 2.12797C14.8726 2.12797 18.6787 5.87651 18.6787 10.423Z" stroke="currentColor" stroke-width="2.52927"></path> </g> </svg> </div> </div></button>

<div class="modal" id="moreInfoModal" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">Ã—</button> </div> <div class="modal-body"> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> </div> </div> </div> </div>

<script>
  (()=>{
    var bits = {}; 
    bits.icon = `<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)">
<path d="M43.908 100H44.3264C46.8368 100 48.9289 99.1632 50.1841 97.4895C51.8577 99.1632 53.9498 100 56.0418 100H56.8787C61.0628 100 64.8285 97.0711 64.8285 92.4686V69.8745C69.431 69.4561 73.1967 65.6904 73.1967 61.0879V47.2803C73.1967 39.749 67.7573 33.4728 61.0628 32.2176C60.2259 32.2176 59.8075 32.2176 59.3891 32.636C56.8787 34.728 53.9498 35.9833 50.6025 35.9833C47.2552 35.9833 44.3264 34.728 41.8159 32.636C40.9791 32.2176 40.5607 32.2176 39.7238 32.2176C33.0293 33.4728 27.59 39.749 27.59 47.2803V61.0879C27.59 65.6904 31.3556 69.4561 35.9582 69.8745V92.4686C35.9582 96.6527 39.7238 100 43.908 100ZM31.7741 61.5063V47.6987C31.7741 42.6778 35.1213 38.4937 39.7238 36.8201C42.6527 39.3305 46.4184 40.5858 50.1841 40.5858C54.3682 40.5858 57.7155 39.3305 60.6444 36.8201C65.2469 38.0753 68.5941 42.2594 68.5941 47.6987V61.5063C68.5941 64.0167 66.5021 66.1088 63.9916 66.1088H62.318C61.8996 66.1088 61.0628 66.5272 60.6444 66.5272C61.0628 66.9456 61.0628 67.364 61.0628 67.7824V92.4686C61.0628 94.1423 59.3891 95.8159 57.2971 95.8159H56.8787C54.7866 95.8159 53.113 94.1423 53.113 92.887C53.113 91.6318 52.2762 90.795 51.0209 90.795C49.7657 90.795 48.5105 91.6318 48.5105 92.887C48.5105 94.5607 46.8368 95.8159 44.7448 95.8159H43.908C41.3975 95.8159 40.1423 94.1423 40.1423 92.4686V67.7824C40.1423 67.364 39.7238 66.5272 39.7238 66.1088C39.3054 65.6904 38.887 65.6904 38.0502 65.6904H36.3766C33.8661 65.6904 31.7741 64.0167 31.7741 61.5063ZM84.4937 1.25523C83.2385 0.41841 81.1465 0 79.4728 0C77.3808 0 75.7071 0.41841 74.0335 1.25523C71.1046 2.92887 69.431 6.27615 69.431 10.8787V11.7155C69.431 17.9916 74.0335 23.431 79.8912 23.431C85.749 23.431 90.3515 17.9916 90.3515 11.7155V11.2971V10.8787C90.3515 5.85774 87.841 2.51046 84.4937 1.25523ZM85.749 11.7155C85.749 15.8996 82.8201 19.2469 79.4728 19.2469C76.1255 19.2469 73.1967 15.8996 73.1967 11.7155C73.1967 11.7155 73.1967 11.2971 73.1967 10.8787C73.1967 7.11297 74.4519 5.85774 75.7071 5.02092C76.9624 4.60251 78.2176 4.1841 79.4728 4.1841C80.728 4.1841 81.9833 4.60251 82.8201 5.02092C84.4937 5.85774 85.749 7.11297 85.749 10.8787V11.2971C85.749 11.2971 85.749 11.7155 85.749 11.7155ZM56.4603 5.43933C54.7866 4.60251 52.6946 4.1841 50.6025 4.1841C48.0921 4.1841 46 4.60251 43.908 5.85774C40.1423 7.94979 38.0502 11.7155 38.0502 17.1548C38.0502 17.1548 38.0502 17.5732 38.0502 17.9916C38.0502 25.523 43.4895 31.7992 50.6025 31.7992C57.7155 31.7992 63.1548 25.523 63.1548 17.9916V17.5732V17.1548C63.1548 11.2971 60.2259 7.11297 56.4603 5.43933ZM58.9707 17.9916C58.9707 23.431 55.205 27.6151 50.6025 27.6151C46 27.6151 42.2343 23.431 42.2343 17.9916C42.2343 17.9916 42.2343 17.5732 42.2343 17.1548C42.2343 12.5523 43.908 10.8787 45.5816 9.62343C46.8368 8.78661 48.5105 8.3682 50.6025 8.3682C52.2762 8.3682 53.5314 8.78661 54.7866 9.20502C56.8787 10.4603 58.5523 12.1339 58.9707 16.7364V17.1548C58.9707 17.5732 58.9707 17.9916 58.9707 17.9916ZM21.3138 23.431C27.1715 23.431 31.7741 17.9916 31.7741 11.7155V10.8787C31.7741 6.27615 30.1004 2.92887 27.1715 1.25523C25.0795 0.41841 23.4059 0 21.3138 0C19.6402 0 17.9665 0.41841 16.2929 1.25523C12.9456 2.51046 10.8536 5.85774 10.8536 10.8787V11.2971V11.7155C10.8536 17.9916 15.4561 23.431 21.3138 23.431ZM17.9665 5.02092C18.8033 4.60251 20.0586 4.1841 21.3138 4.1841C22.569 4.1841 23.8243 4.60251 25.0795 5.02092C26.3347 5.85774 27.59 7.11297 27.59 10.8787C27.59 11.2971 27.59 11.2971 27.59 11.7155C27.59 15.8996 24.6611 19.2469 21.3138 19.2469C17.9665 19.2469 15.0377 15.8996 15.0377 11.7155C15.0377 11.7155 15.0377 11.2971 15.0377 10.8787V10.4603C15.0377 6.69456 16.2929 5.85774 17.9665 5.02092ZM9.17991 72.8033C9.17991 76.569 12.5272 79.0795 15.8745 79.0795H16.2929C17.9665 79.0795 19.6402 78.2427 20.8954 77.4059C22.1506 78.6611 23.8243 79.0795 25.4979 79.0795H25.9163C27.1715 79.0795 28.0084 78.2427 28.0084 76.9874C28.0084 75.7322 27.1715 74.8954 25.9163 74.8954H26.3347C24.6611 74.8954 23.8243 73.6402 23.8243 72.8033C23.4059 71.9665 22.569 71.1297 21.3138 71.1297C20.0586 71.1297 19.2218 71.9665 19.2218 72.8033C19.2218 74.0586 17.9665 74.8954 16.7113 74.8954H15.8745C14.2008 74.8954 12.9456 73.6402 12.9456 72.8033V52.7197C12.9456 52.3013 12.5272 51.4644 12.5272 51.046C12.1088 50.6276 11.6904 50.6276 10.8536 50.6276H10.0167C8.34309 50.6276 6.66945 48.954 6.66945 47.2803V35.5649C6.66945 31.3808 9.17991 28.4519 12.9456 27.1967C15.0377 29.2887 17.9665 30.1255 21.3138 30.1255C25.0795 30.1255 28.4268 28.8703 30.9372 26.3598C31.7741 25.9414 31.7741 24.2678 30.9372 23.431C30.1004 22.5941 28.8452 22.5941 28.0084 23.431C26.3347 25.1046 23.8243 26.3598 21.3138 26.3598C18.8033 26.3598 16.2929 25.1046 14.6192 23.431C14.2008 23.0126 13.364 22.5941 12.5272 23.0126C6.66945 24.2678 2.48535 29.2887 2.48535 35.5649V46.8619C2.48535 50.6276 5.41422 53.9749 9.17991 54.3933V72.8033ZM88.2594 23.0126C87.4226 23.0126 87.0042 23.0126 86.5858 23.431C84.4937 25.1046 82.4017 26.3598 79.8912 26.3598C77.3808 26.3598 74.8703 25.523 73.1967 23.431C72.3598 22.5941 71.1046 22.5941 70.2678 23.431C69.431 24.2678 69.431 25.523 70.2678 26.3598C72.7783 28.8703 76.1255 30.1255 79.8912 30.1255C83.2385 30.1255 86.1674 28.8703 88.6778 27.1967C92.0251 28.4519 94.5356 31.7992 94.5356 35.5649V46.8619C94.5356 48.954 92.8619 50.2092 91.1883 50.2092H89.9331C89.5147 50.2092 88.6778 50.6276 88.2594 50.6276C87.841 51.046 87.841 51.4644 87.841 52.3013V72.3849C87.841 73.6402 86.5858 74.477 85.3306 74.477H84.9121C83.2385 74.477 82.4017 73.2217 82.4017 72.3849C82.4017 71.1297 81.5649 70.2929 80.3096 70.2929C79.0544 70.2929 78.2176 71.1297 78.2176 72.3849C78.2176 73.6402 76.9624 74.477 75.7071 74.477H75.2887C74.0335 74.477 73.1967 75.3138 73.1967 76.569C73.1967 77.8243 74.0335 78.6611 75.2887 78.6611H75.7071C77.3808 78.6611 79.0544 77.8243 80.3096 76.9874C81.5649 78.2427 83.2385 78.6611 84.9121 78.6611H85.3306C89.0962 78.6611 92.0251 75.7322 92.0251 72.3849V54.3933C95.7908 53.9749 98.7197 50.6276 98.7197 46.8619V35.5649C98.3013 29.2887 94.1172 24.2678 88.2594 23.0126Z" fill="currentColor"/>
</g>
<defs>
<clipPath id="clip0">
<rect width="97" height="100" fill="white" transform="translate(2)"/>
</clipPath>
</defs>
</svg>
`;
    bits.count = (() => {let x = 0; let y = Object.values(parent.g_ClientDataSetInfo).some(x=>x.match(/^5/))?Object.keys(parent.g_ClientDataSetInfo)[Object.values(parent.g_ClientDataSetInfo).findIndex((z)=>z.match(/^5/))]:0; parent['DataSet_'+y+'_Rows'].forEach((row) => x+=Number(row[13])); return x;})();
    bits.title = `Total New Patients`;
    bits.moreInfo = `Reports indicate you've received ${bits.count} new patients that have resulted from our marketing efforts.`;
    bits.toolTip = `${bits.count} total new patients to date.`;
    bits.countSubText = `patients`;
    bits.movement = `up`; 
    
    document.querySelector('#tally-1').dataset.moreInfo = bits.moreInfo;
    document.querySelector('#tally-1 .tally-icon').innerHTML = bits.icon;
    document.querySelector('#tally-1 .tally-type').innerHTML = bits.title;
    document.querySelector('#tally-1 .tally-count').innerHTML = bits.count;
    document.querySelector('#tally-1 .tally-count').style.content = bits.countSubText;
    document.querySelector('#tally-1 [data-movement]').dataset.movement = bits.movement;
    document.querySelector('#tally-1 [data-tooltip]').dataset.tooltip = bits.toolTip;

    // *****************************************
    // run after content is loaded and only once
    // *****************************************
    document.addEventListener('DOMContentLoaded', (e) => {
      (() => {
        // add bootstrap js for modals
        const s = document.createElement('script');
        s.src = 'https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js';
        document.body.appendChild(s);

        // tallyboxes listen for click and dynamically change the modal body content
        document.querySelectorAll('[data-toggle=modal]').forEach((x) => x.addEventListener('click', (e) => { addToMoreInfo(e); }));

        // trigger focus on modal shown for accessibility
        $('#moreInfoModal').on('shown.bs.modal', function () {
          $('#moreInfoModal').trigger('focus');
        });

        // remove the modal body content on hidden
        $('#moreInfoModal').on('hidden.bs.modal', function () {
          $('#moreInfoModal .modal-body p').remove();
        });

        // add tally box more info to modal body content
        function addToMoreInfo(e) {
          const p = document.createElement('p');
          const info = e.target.closest('[data-more-info]').dataset.moreInfo;
          p.innerText = info;
          document.querySelector('#moreInfoModal .modal-body').appendChild(p)
        }
      })();
    });
  })();
</script>

A modified tally box that shows a running total of all new patients column in the dataset. never red. always green or blue.